<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<title>七夕情人节快乐</title>

<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>❤️</text></svg>">

<style>
  :root{
    --bg1:#ffdde1;
    --bg2:#ee9ca7;
    --gold1:#fff6d6;
    --gold2:#f7c66a;
    --gold3:#d4942a;
  }
  html,body{
    height:100%;
    margin:0;
    padding:0;
    overflow:hidden;
    background: linear-gradient(160deg, var(--bg1), var(--bg2));
    font-family: "Noto Serif SC","STKaiti","KaiTi","Songti SC","PingFang SC","Heiti SC", system-ui, -apple-system, "Segoe UI", Roboto, Arial;
  }
  .center-wrap{
    position: fixed;
    inset: 0;
    display: grid;
    place-items: center;
    text-align: center;
    padding: env(safe-area-inset-top) 16px env(safe-area-inset-bottom);
  }
  .title{
    font-size: clamp(28px, 8vw, 68px);
    line-height: 1.1;
    letter-spacing: .06em;
    background: linear-gradient(180deg, var(--gold1), var(--gold2) 55%, var(--gold3));
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    text-shadow: 0 2px 0 rgba(0,0,0,.06), 0 8px 24px rgba(0,0,0,.18);
    font-weight: 800;
  }
  .subtitle{
    margin-top: .6em;
    font-size: clamp(12px, 3.6vw, 18px);
    color: rgba(60,0,0,.75);
    text-shadow: 0 1px 0 rgba(255,255,255,.4);
  }
  .hint{
    position: fixed;
    bottom: max(8px, env(safe-area-inset-bottom));
    width: 100%;
    text-align: center;
    font-size: 12px;
    color: rgba(80,0,0,.6);
  }
  #c{
    position: fixed;
    inset: 0;
    width: 100%;
    height: 100%;
    display: block;
  }
</style>
</head>
<body>
<canvas id="c"></canvas>

<div class="center-wrap">
  <div>
    <div class="title">七夕情人节快乐</div>
    <div class="subtitle">YH 愿你永远幸福</div>
  </div>
</div>
<div class="hint">点一下屏幕就会有❤️和音乐</div>

<!-- 背景音乐 -->
<audio id="bgm">
  <source src="https://www2.cs.uic.edu/~i101/SoundFiles/PinkPanther30.wav" type="audio/wav">
  你的浏览器不支持音频
</audio>

<script>
(function(){
  const canvas = document.getElementById('c');
  const ctx = canvas.getContext('2d');
  let W,H,hearts=[];
  let dpr = Math.max(1, Math.min(2, window.devicePixelRatio || 1));

  function resize(){
    W = canvas.width  = Math.floor(innerWidth  * dpr);
    H = canvas.height = Math.floor(innerHeight * dpr);
  }
  resize();

  function drawHeart(x,y,size,rot,alpha){
    ctx.save();
    ctx.translate(x,y);
    ctx.rotate(rot);
    ctx.scale(size,size);
    ctx.globalAlpha = alpha;
    ctx.beginPath();
    ctx.moveTo(0,-1.2);
    ctx.bezierCurveTo(1.4,-2.2,2.8,-0.2,0,1.6);
    ctx.bezierCurveTo(-2.8,-0.2,-1.4,-2.2,0,-1.2);
    const g = ctx.createLinearGradient(-1,-1.5,1,1.5);
    g.addColorStop(0,'rgba(255,255,255,.95)');
    g.addColorStop(0.4,'rgba(255,180,200,.95)');
    g.addColorStop(1,'rgba(240,60,120,.95)');
    ctx.fillStyle = g;
    ctx.shadowColor = 'rgba(200,0,60,.35)';
    ctx.shadowBlur = 20*dpr;
    ctx.fill();
    ctx.restore();
  }

  function addHeart(x,y){
    const size = (Math.random()*0.8 + 0.6) * 14*dpr;
    hearts.push({
      x: x ?? Math.random()*W,
      y: y ?? (H + 40*dpr),
      vx: (Math.random()-0.5) * 0.25*dpr,
      vy: -(Math.random()*0.8 + 0.4)*(0.6*dpr),
      rot: Math.random()*Math.PI,
      vr: (Math.random()-0.5)*0.01,
      size: size,
      life: 1,
      fade: Math.random()*0.002 + 0.0012
    });
  }

  function step(){
    ctx.clearRect(0,0,W,H);
    ctx.globalCompositeOperation = 'lighter';
    hearts.forEach(h=>{
      h.x += h.vx;
      h.y += h.vy;
      h.rot += h.vr;
      h.life -= h.fade;
      drawHeart(h.x,h.y,h.size/24,h.rot,Math.max(0,h.life));
    });
    ctx.globalCompositeOperation = 'source-over';
    hearts = hearts.filter(h=>h.life>0);
    if(hearts.length<36) addHeart();
    requestAnimationFrame(step);
  }
  step();

  // 点击触发爱心 + 音乐
  const bgm = document.getElementById("bgm");
  function playBgm(){ bgm.play().catch(()=>{}); }

  function handleClick(e){
    const rect = canvas.getBoundingClientRect();
    const x = (e.clientX - rect.left)*dpr;
    const y = (e.clientY - rect.top)*dpr;
    addHeart(x,y);
    playBgm();
  }

  canvas.addEventListener('click', handleClick);
  canvas.addEventListener('touchstart', e=>{
    const touch = e.touches[0];
    handleClick({clientX: touch.clientX, clientY: touch.clientY});
  });

  window.addEventListener('resize', resize);
})();
</script>
</body>
</html>
