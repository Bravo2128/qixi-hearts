<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>七夕情人节快乐</title>
  <style>
    body,html{
      margin:0;padding:0;height:100%;overflow:hidden;
      background:linear-gradient(160deg,#ffdde1,#ee9ca7);
      font-family:"Noto Serif SC","KaiTi","STKaiti","Songti SC",serif;
    }
    #c{position:fixed;inset:0;width:100%;height:100%;}
    .title{
      position:absolute;top:12%;width:100%;text-align:center;
      font-size:3em;font-weight:900;
      background:linear-gradient(180deg,#fff6d6,#f7c66a 55%,#d4942a);
      -webkit-background-clip:text;color:transparent;
      text-shadow:0 3px 8px rgba(0,0,0,.25);
      letter-spacing:0.1em;
    }
    .subtitle{
      position:absolute;top:30%;width:100%;text-align:center;
      font-size:1.6em;line-height:1.8;
      background:linear-gradient(90deg,#ff9a9e,#fad0c4);
      -webkit-background-clip:text;color:transparent;
      text-shadow:0 2px 6px rgba(0,0,0,.2);
      font-weight:600;
    }
    .hint{
      position:absolute;bottom:14px;width:100%;text-align:center;
      color:rgba(60,0,0,.6);font-size:14px;
    }
  </style>
</head>
<body>
  <canvas id="c"></canvas>
  <div class="title">七夕情人节快乐</div>
  <div class="subtitle">
    YH 祝你幸福<br>
    祝你快乐<br>
    一切顺利平安
  </div>
  <div class="hint">✨ 点击屏幕，爱心烟花 + 浪漫音乐 ✨</div>

  <!-- 浪漫钢琴背景音乐（Mixkit 免费资源） -->
  <audio id="bgm" loop>
    <source src="https://assets.mixkit.co/music/preview/mixkit-love-184.mp3" type="audio/mpeg">
  </audio>

  <script>
    const canvas=document.getElementById("c"),ctx=canvas.getContext("2d");
    let W,H,dpr=Math.min(2,window.devicePixelRatio||1),hearts=[];
    function resize(){W=canvas.width=innerWidth*dpr;H=canvas.height=innerHeight*dpr;}
    resize();window.addEventListener("resize",resize);

    function drawHeart(x,y,s,a,alpha){
      ctx.save();ctx.translate(x,y);ctx.scale(s,s);ctx.rotate(a);
      ctx.globalAlpha=alpha;
      ctx.beginPath();
      ctx.moveTo(0,-1.2);
      ctx.bezierCurveTo(1.4,-2.2,2.8,-0.2,0,1.6);
      ctx.bezierCurveTo(-2.8,-0.2,-1.4,-2.2,0,-1.2);
      const g=ctx.createLinearGradient(-1,-1.5,1,1.5);
      g.addColorStop(0,"#fff");g.addColorStop(0.4,"#ffb6c1");g.addColorStop(1,"#ff3366");
      ctx.fillStyle=g;
      ctx.shadowColor="rgba(255,50,120,.6)";
      ctx.shadowBlur=18*dpr;
      ctx.fill();ctx.restore();
    }

    function addFirework(x,y){
      for(let i=0;i<24;i++){
        let angle=Math.random()*Math.PI*2;
        let speed=2+Math.random()*2;
        hearts.push({
          x:x,y:y,
          vx:Math.cos(angle)*speed,
          vy:Math.sin(angle)*speed-3,
          life:1,fade:0.015+Math.random()*0.01,
          size:0.1+Math.random()*0.07,
          rot:Math.random()*Math.PI
        });
      }
    }

    function loop(){
      ctx.clearRect(0,0,W,H);
      hearts.forEach(h=>{
        h.x+=h.vx*dpr;h.y+=h.vy*dpr;
        h.vy+=0.03;h.life-=h.fade;h.rot+=0.05;
        if(h.life>0) drawHeart(h.x,h.y,h.size*50*dpr,h.rot,h.life);
      });
      hearts=hearts.filter(h=>h.life>0);
      requestAnimationFrame(loop);
    }
    loop();

    const bgm=document.getElementById("bgm");
    function trigger(x,y){
      addFirework(x*dpr,y*dpr);
      bgm.play().catch(()=>{});
    }
    canvas.addEventListener("click",e=>trigger(e.clientX,e.clientY));
    canvas.addEventListener("touchstart",e=>{
      const t=e.touches[0];trigger(t.clientX,t.clientY);
    });
  </script>
</body>
</html>
